// --- Translations Dictionary (Condensed for brevity, assumed same content as before) ---
const translations = {
    "en": {
        "nav_about": "About", "nav_experience": "Experience", "nav_skills": "Skills", "nav_contact": "Contact",
        "hero_title": "Filippo Mario Codec√†", "hero_subtitle_words": ["Senior Operations Manager", "Supply Chain Expert", "Crisis Management Specialist", "Lean Six Sigma Leader"],
        "hero_desc": "Driving efficiency in Automotive, Plant Management, and Logistics Optimization across Europe.", "btn_contact": "Get in Touch", "btn_profile": "View Hogan Profile",
        "sec_about_title": "Professional Profile", "sec_about_h3": "Senior Leader in Manufacturing",
        "sec_about_p1": "Born in Milan and currently based in Slovakia, I am a seasoned manager with extensive experience in the automotive and manufacturing sectors. I specialize in <strong>Plant Management, Logistics, and Supply Chain optimization</strong>.",
        "sec_about_p2": "My career is defined by flexibility and high technical focus, having successfully managed start-ups, restructuring projects, and interim management roles across Europe (Italy, Slovakia, Germany).",
        "card_lang": "Languages", "card_edu": "Education", "sec_exp_title": "Career Journey",
        "role_nig": "Coordinator / Site Manager", "desc_nig": "Supervising installation of production lines in the automotive sector. Managing daily team coordination, client relationships, and material availability.",
        "role_jlr": "Senior Production Leader (T&F)", "desc_jlr": "Managed Trim & Final Operation zone (120 people). Drove SQDCPE metrics, safety compliance, and Lean manufacturing principles (Kaizen, 5S).",
        "role_opel": "Manager Development", "desc_opel": "Study of chassis geometry and production process quality for the new Opel Grandland BEV project, focusing on \"Body Sides\".",
        "role_ho": "Assistant Supervisor", "desc_ho": "Managed installation projects for Jeep Ineos Grenadier, Krone trailers, and Opel Grandland conveyor systems.",
        "role_phoenix": "Supply Chain Director", "desc_phoenix": "Optimized biomass supply chain, reduced shipping costs, and managed international transport regulations (Air, Sea, Rail, Road).",
        "role_brixia": "Plant Production & Logistics Manager", "desc_brixia": "Aluminium die casting for Bosch, Continental, Magna. Reorganized supply chain, reduced suppliers, and managed plant productivity.",
        "role_scand": "Logistics & Purchasing Manager", "desc_scand": "Packaging manufacturing. Reduced raw material and energy purchase prices. Defined strategic supply objectives and managed warehouse accounting.",
        "role_serio": "Operation Manager", "desc_serio": "Led the start-up phase: construction compliance, layout design, staff recruitment, machinery purchasing, and ISO 9001 implementation.",
        "sec_skills_title": "Core Competencies", "filter_all": "All", "filter_mgmt": "Management", "filter_tech": "Technical", "filter_ind": "Industry",
        "sk_supply": "Supply Chain Management", "sk_plant": "Plant Operations", "sk_lean": "Lean Manufacturing (Kaizen, 5S)", "sk_interim": "Interim Management",
        "sk_auto": "Automotive Industry", "sk_log": "Logistics Optimization", "sk_crisis": "Crisis Management", "sk_sqdcpe": "SQDCPE Metrics", "sk_iso": "ISO 9001 / IATF",
        "sk_sap": "SAP / AS400 / MS Office", "sk_cost": "Cost Reduction", "sk_start": "Start-up Leadership",
        "sec_map_title": "International Experience", "sec_map_desc": "A track record of success across key European manufacturing hubs.", "sec_contact_title": "Contact Me"
    },
    "it": {
        "nav_about": "Chi Sono", "nav_experience": "Esperienza", "nav_skills": "Competenze", "nav_contact": "Contatti",
        "hero_title": "Filippo Mario Codec√†",
        "hero_subtitle_words": ["Manager Operativo Senior", "Esperto Supply Chain", "Specialista Crisis Management", "Leader Lean Six Sigma"],
        "hero_desc": "Ottimizzazione dell'efficienza in automotive, gestione impianti e logistica in tutta Europa.",
        "btn_contact": "Contattami", "btn_profile": "Vedi Profilo Hogan",
        "sec_about_title": "Profilo Professionale", "sec_about_h3": "Leader Senior nel Manufacturing",
        "sec_about_p1": "Nato a Milano e attualmente basato in Slovacchia, sono un manager esperto con vasta esperienza nei settori automotive e manifatturiero. Sono specializzato in <strong>Gestione Impianti, Logistica e Ottimizzazione Supply Chain</strong>.",
        "sec_about_p2": "La mia carriera √® definita da flessibilit√† e forte focus tecnico, avendo gestito con successo start-up, progetti di ristrutturazione e ruoli di interim management in tutta Europa (Italia, Slovacchia, Germania).",
        "card_lang": "Lingue", "card_edu": "Formazione", "sec_exp_title": "Percorso Professionale",
        "role_nig": "Coordinatore / Site Manager",
        "desc_nig": "Supervisione installazione linee produttive nel settore automotive. Gestione coordinamento team, relazioni clienti e disponibilit√† materiali.",
        "role_jlr": "Senior Production Leader (T&F)",
        "desc_jlr": "Gestione zona Trim & Final Operation (120 persone). Implementazione metriche SQDCPE, conformit√† sicurezza e principi Lean (Kaizen, 5S).",
        "role_opel": "Manager Development",
        "desc_opel": "Studio geometria telaio e qualit√† processi produttivi per nuovo progetto Opel Grandland BEV, focus su \"Body Sides\".",
        "role_ho": "Assistant Supervisor",
        "desc_ho": "Gestione progetti installazione per Jeep Ineos Grenadier, rimorchi Krone e sistemi trasportatori Opel Grandland.",
        "role_phoenix": "Direttore Supply Chain",
        "desc_phoenix": "Ottimizzazione supply chain biomasse, riduzione costi spedizione e gestione normative trasporto internazionale (Aereo, Mare, Ferrovia, Gomma).",
        "role_brixia": "Plant Production & Logistics Manager",
        "desc_brixia": "Pressofusione alluminio per Bosch, Continental, Magna. Riorganizzazione supply chain, riduzione fornitori e gestione produttivit√† impianto.",
        "role_scand": "Logistics & Purchasing Manager",
        "desc_scand": "Produzione packaging. Riduzione prezzi materie prime ed energia. Definizione obiettivi strategici e gestione contabilit√† magazzino.",
        "role_serio": "Operation Manager",
        "desc_serio": "Gestione fase start-up: conformit√† costruzione, progettazione layout, recruiting, acquisto macchinari e implementazione ISO 9001.",
        "sec_skills_title": "Competenze Chiave", "filter_all": "Tutte", "filter_mgmt": "Management", "filter_tech": "Tecniche", "filter_ind": "Settoriali",
        "sk_supply": "Supply Chain Management", "sk_plant": "Gestione Impianti", "sk_lean": "Lean Manufacturing (Kaizen, 5S)", "sk_interim": "Interim Management",
        "sk_auto": "Industria Automotive", "sk_log": "Ottimizzazione Logistica", "sk_crisis": "Crisis Management", "sk_sqdcpe": "Metriche SQDCPE", "sk_iso": "ISO 9001 / IATF",
        "sk_sap": "SAP / AS400 / MS Office", "sk_cost": "Riduzione Costi", "sk_start": "Leadership Start-up",
        "sec_map_title": "Esperienza Internazionale", "sec_map_desc": "Track record di successi nei principali hub manifatturieri europei.", "sec_contact_title": "Contattami"
    },
    "sk": {
        "nav_about": "O mne", "nav_experience": "Sk√∫senosti", "nav_skills": "Zruƒçnosti", "nav_contact": "Kontakt",
        "hero_title": "Filippo Mario Codec√†",
        "hero_subtitle_words": ["Senior Operations Manager", "Expert na Supply Chain", "≈†pecialista Crisis Management", "Lean Six Sigma Leader"],
        "hero_desc": "Zvy≈°ovanie efektivity v automotive, riaden√≠ z√°vodov a optimaliz√°cii logistiky po celej Eur√≥pe.",
        "btn_contact": "Kontaktujte ma", "btn_profile": "Zobrazi≈• Hogan Profil",
        "sec_about_title": "Profesion√°lny Profil", "sec_about_h3": "Senior Leader vo V√Ωrobe",
        "sec_about_p1": "Naroden√Ω v Mil√°ne a moment√°lne p√¥sobiaci na Slovensku, som sk√∫sen√Ω mana≈æ√©r s rozsiahlymi sk√∫senos≈•ami v automotive a v√Ωrobnom sektore. ≈†pecializujem sa na <strong>Riadenie Z√°vodov, Logistiku a Optimaliz√°ciu Supply Chain</strong>.",
        "sec_about_p2": "Moja kari√©ra je definovan√° flexibilitou a vysok√Ωm technick√Ωm zameran√≠m, √∫spe≈°ne som riadil start-upy, re≈°trukturalizaƒçn√© projekty a interim mana≈æment po celej Eur√≥pe (Taliansko, Slovensko, Nemecko).",
        "card_lang": "Jazyky", "card_edu": "Vzdelanie", "sec_exp_title": "Kari√©rna Cesta",
        "role_nig": "Koordin√°tor / Site Manager",
        "desc_nig": "Superv√≠zia in≈°tal√°cie v√Ωrobn√Ωch liniek v automotive sektore. Riadenie dennej koordin√°cie t√≠mu, vz≈•ahov s klientmi a dostupnosti materi√°lov.",
        "role_jlr": "Senior Production Leader (T&F)",
        "desc_jlr": "Riadenie z√≥ny Trim & Final Operation (120 ƒæud√≠). Implement√°cia SQDCPE metr√≠k, dodr≈æiavanie bezpeƒçnosti a Lean princ√≠pov (Kaizen, 5S).",
        "role_opel": "Manager Development",
        "desc_opel": "≈†t√∫dium geometrie podvozku a kvality v√Ωrobn√Ωch procesov pre nov√Ω projekt Opel Grandland BEV, zameranie na \"Body Sides\".",
        "role_ho": "Assistant Supervisor",
        "desc_ho": "Riadenie in≈°talaƒçn√Ωch projektov pre Jeep Ineos Grenadier, Krone n√°vesy a Opel Grandland dopravn√≠kov√© syst√©my.",
        "role_phoenix": "Riaditeƒæ Supply Chain",
        "desc_phoenix": "Optimaliz√°cia supply chain biomasy, zn√≠≈æenie n√°kladov na dopravu a riadenie medzin√°rodn√Ωch dopravn√Ωch predpisov (Leteck√°, Morsk√°, ≈Ωelezniƒçn√°, Cestn√°).",
        "role_brixia": "Plant Production & Logistics Manager",
        "desc_brixia": "Tlakov√© liatie hlin√≠ka pre Bosch, Continental, Magna. Reorganiz√°cia supply chain, redukcia dod√°vateƒæov a riadenie produktivity z√°vodu.",
        "role_scand": "Logistics & Purchasing Manager",
        "desc_scand": "V√Ωroba obalov. Zn√≠≈æenie cien surov√≠n a energi√≠. Definovanie strategick√Ωch dod√°vateƒæsk√Ωch cieƒæov a riadenie skladov√©ho √∫ƒçtovn√≠ctva.",
        "role_serio": "Operation Manager",
        "desc_serio": "Vedenie start-up f√°zy: dodr≈æiavanie stavebn√Ωch predpisov, n√°vrh layoutu, n√°bor zamestnancov, n√°kup strojov a implement√°cia ISO 9001.",
        "sec_skills_title": "Kƒæ√∫ƒçov√© Kompetencie", "filter_all": "V≈°etky", "filter_mgmt": "Mana≈æment", "filter_tech": "Technick√©", "filter_ind": "Odvetvov√©",
        "sk_supply": "Supply Chain Management", "sk_plant": "Riadenie Z√°vodov", "sk_lean": "Lean Manufacturing (Kaizen, 5S)", "sk_interim": "Interim Management",
        "sk_auto": "Automotive Priemysel", "sk_log": "Optimaliz√°cia Logistiky", "sk_crisis": "Crisis Management", "sk_sqdcpe": "SQDCPE Metriky", "sk_iso": "ISO 9001 / IATF",
        "sk_sap": "SAP / AS400 / MS Office", "sk_cost": "Zni≈æovanie N√°kladov", "sk_start": "Start-up Leadership",
        "sec_map_title": "Medzin√°rodn√© Sk√∫senosti", "sec_map_desc": "√öspe≈°n√° hist√≥ria v kƒæ√∫ƒçov√Ωch eur√≥pskych v√Ωrobn√Ωch centr√°ch.", "sec_contact_title": "Kontakt"
    },
    "de": {
        "nav_about": "√úber mich", "nav_experience": "Erfahrung", "nav_skills": "Kompetenzen", "nav_contact": "Kontakt",
        "hero_title": "Filippo Mario Codec√†",
        "hero_subtitle_words": ["Senior Operations Manager", "Supply Chain Experte", "Crisis Management Spezialist", "Lean Six Sigma Leader"],
        "hero_desc": "Effizienzsteigerung in Automotive, Werksleitung und Logistikoptimierung in ganz Europa.",
        "btn_contact": "Kontakt aufnehmen", "btn_profile": "Hogan-Profil ansehen",
        "sec_about_title": "Berufsprofil", "sec_about_h3": "Senior Leader in der Fertigung",
        "sec_about_p1": "Geboren in Mailand und derzeit in der Slowakei ans√§ssig, bin ich ein erfahrener Manager mit umfangreicher Erfahrung in der Automobil- und Fertigungsindustrie. Ich bin spezialisiert auf <strong>Werksleitung, Logistik und Supply Chain Optimierung</strong>.",
        "sec_about_p2": "Meine Karriere ist gepr√§gt von Flexibilit√§t und hohem technischem Fokus. Ich habe erfolgreich Start-ups, Restrukturierungsprojekte und Interim-Management-Rollen in ganz Europa (Italien, Slowakei, Deutschland) geleitet.",
        "card_lang": "Sprachen", "card_edu": "Ausbildung", "sec_exp_title": "Karriereweg",
        "role_nig": "Koordinator / Site Manager",
        "desc_nig": "√úberwachung der Installation von Produktionslinien im Automobilsektor. T√§gliche Teamkoordination, Kundenbeziehungen und Materialverf√ºgbarkeit.",
        "role_jlr": "Senior Production Leader (T&F)",
        "desc_jlr": "Leitung der Trim & Final Operation Zone (120 Mitarbeiter). Umsetzung von SQDCPE-Metriken, Sicherheitskonformit√§t und Lean-Prinzipien (Kaizen, 5S).",
        "role_opel": "Manager Development",
        "desc_opel": "Untersuchung der Fahrwerksgeometrie und Produktionsprozessqualit√§t f√ºr das neue Opel Grandland BEV Projekt, Schwerpunkt \"Body Sides\".",
        "role_ho": "Assistant Supervisor",
        "desc_ho": "Leitung von Installationsprojekten f√ºr Jeep Ineos Grenadier, Krone-Anh√§nger und Opel Grandland F√∂rdersysteme.",
        "role_phoenix": "Supply Chain Director",
        "desc_phoenix": "Optimierung der Biomasse-Lieferkette, Reduzierung der Versandkosten und Management internationaler Transportvorschriften (Luft, See, Schiene, Stra√üe).",
        "role_brixia": "Plant Production & Logistics Manager",
        "desc_brixia": "Aluminiumdruckguss f√ºr Bosch, Continental, Magna. Reorganisation der Lieferkette, Lieferantenreduzierung und Werksproduk¬≠tivit√§ts¬≠management.",
        "role_scand": "Logistics & Purchasing Manager",
        "desc_scand": "Verpackungsherstellung. Senkung der Rohstoff- und Energiepreise. Definition strategischer Beschaffungsziele und Lagerbuchhaltung.",
        "role_serio": "Operation Manager",
        "desc_serio": "Leitung der Start-up-Phase: Bauvorschriften, Layout-Design, Personalrekrutierung, Maschinenkauf und ISO 9001 Implementierung.",
        "sec_skills_title": "Kernkompetenzen", "filter_all": "Alle", "filter_mgmt": "Management", "filter_tech": "Technisch", "filter_ind": "Branche",
        "sk_supply": "Supply Chain Management", "sk_plant": "Werksleitung", "sk_lean": "Lean Manufacturing (Kaizen, 5S)", "sk_interim": "Interim Management",
        "sk_auto": "Automobilindustrie", "sk_log": "Logistikoptimierung", "sk_crisis": "Krisenmanagement", "sk_sqdcpe": "SQDCPE-Metriken", "sk_iso": "ISO 9001 / IATF",
        "sk_sap": "SAP / AS400 / MS Office", "sk_cost": "Kostenreduzierung", "sk_start": "Start-up-Leadership",
        "sec_map_title": "Internationale Erfahrung", "sec_map_desc": "Erfolgsgeschichte in wichtigen europ√§ischen Fertigungszentren.", "sec_contact_title": "Kontakt"
    },
    "fr": {
        "nav_about": "√Ä propos", "nav_experience": "Exp√©rience", "nav_skills": "Comp√©tences", "nav_contact": "Contact",
        "hero_title": "Filippo Mario Codec√†",
        "hero_subtitle_words": ["Senior Operations Manager", "Expert Supply Chain", "Sp√©cialiste Crisis Management", "Leader Lean Six Sigma"],
        "hero_desc": "Optimisation de l'efficacit√© dans l'automobile, la gestion d'usine et la logistique en Europe.",
        "btn_contact": "Me contacter", "btn_profile": "Voir le profil Hogan",
        "sec_about_title": "Profil Professionnel", "sec_about_h3": "Leader Senior dans l'Industrie",
        "sec_about_p1": "N√© √† Milan et actuellement bas√© en Slovaquie, je suis un manager exp√©riment√© avec une vaste exp√©rience dans les secteurs automobile et manufacturier. Je suis sp√©cialis√© dans <strong>la Gestion d'Usine, la Logistique et l'Optimisation de la Supply Chain</strong>.",
        "sec_about_p2": "Ma carri√®re est d√©finie par la flexibilit√© et un fort accent technique, ayant g√©r√© avec succ√®s des start-ups, des projets de restructuration et des r√¥les de management int√©rimaire √† travers l'Europe (Italie, Slovaquie, Allemagne).",
        "card_lang": "Langues", "card_edu": "Formation", "sec_exp_title": "Parcours Professionnel",
        "role_nig": "Coordinateur / Site Manager",
        "desc_nig": "Supervision de l'installation de lignes de production dans le secteur automobile. Gestion de la coordination quotidienne des √©quipes, relations clients et disponibilit√© des mat√©riaux.",
        "role_jlr": "Senior Production Leader (T&F)",
        "desc_jlr": "Gestion de la zone Trim & Final Operation (120 personnes). Pilotage des m√©triques SQDCPE, conformit√© s√©curit√© et principes Lean (Kaizen, 5S).",
        "role_opel": "Manager Development",
        "desc_opel": "√âtude de la g√©om√©trie du ch√¢ssis et qualit√© des processus de production pour le nouveau projet Opel Grandland BEV, focus sur \"Body Sides\".",
        "role_ho": "Assistant Supervisor",
        "desc_ho": "Gestion de projets d'installation pour Jeep Ineos Grenadier, remorques Krone et syst√®mes de convoyage Opel Grandland.",
        "role_phoenix": "Directeur Supply Chain",
        "desc_phoenix": "Optimisation de la cha√Æne d'approvisionnement biomasse, r√©duction des co√ªts d'exp√©dition et gestion des r√©glementations de transport international (A√©rien, Maritime, Ferroviaire, Routier).",
        "role_brixia": "Plant Production & Logistics Manager",
        "desc_brixia": "Moulage sous pression d'aluminium pour Bosch, Continental, Magna. R√©organisation de la supply chain, r√©duction des fournisseurs et gestion de la productivit√© de l'usine.",
        "role_scand": "Logistics & Purchasing Manager",
        "desc_scand": "Fabrication d'emballages. R√©duction des prix des mati√®res premi√®res et de l'√©nergie. D√©finition d'objectifs strat√©giques et gestion de la comptabilit√© d'entrep√¥t.",
        "role_serio": "Operation Manager",
        "desc_serio": "Direction de la phase start-up: conformit√© construction, conception du layout, recrutement, achat de machines et impl√©mentation ISO 9001.",
        "sec_skills_title": "Comp√©tences Cl√©s", "filter_all": "Toutes", "filter_mgmt": "Management", "filter_tech": "Techniques", "filter_ind": "Sectorielles",
        "sk_supply": "Supply Chain Management", "sk_plant": "Gestion d'Usine", "sk_lean": "Lean Manufacturing (Kaizen, 5S)", "sk_interim": "Management Int√©rimaire",
        "sk_auto": "Industrie Automobile", "sk_log": "Optimisation Logistique", "sk_crisis": "Gestion de Crise", "sk_sqdcpe": "M√©triques SQDCPE", "sk_iso": "ISO 9001 / IATF",
        "sk_sap": "SAP / AS400 / MS Office", "sk_cost": "R√©duction des Co√ªts", "sk_start": "Leadership Start-up",
        "sec_map_title": "Exp√©rience Internationale", "sec_map_desc": "Historique de r√©ussites dans les principaux centres manufacturiers europ√©ens.", "sec_contact_title": "Contact"
    },
    "es": {
        "nav_about": "Acerca de", "nav_experience": "Experiencia", "nav_skills": "Habilidades", "nav_contact": "Contacto",
        "hero_title": "Filippo Mario Codec√†",
        "hero_subtitle_words": ["Senior Operations Manager", "Experto Supply Chain", "Especialista Crisis Management", "L√≠der Lean Six Sigma"],
        "hero_desc": "Optimizaci√≥n de eficiencia en automoci√≥n, gesti√≥n de plantas y log√≠stica en Europa.",
        "btn_contact": "Contactar", "btn_profile": "Ver perfil Hogan",
        "sec_about_title": "Perfil Profesional", "sec_about_h3": "L√≠der Senior en Fabricaci√≥n",
        "sec_about_p1": "Nacido en Mil√°n y actualmente basado en Eslovaquia, soy un gerente experimentado con amplia experiencia en los sectores automotriz y manufacturero. Me especializo en <strong>Gesti√≥n de Plantas, Log√≠stica y Optimizaci√≥n de Supply Chain</strong>.",
        "sec_about_p2": "Mi carrera se define por flexibilidad y alto enfoque t√©cnico, habiendo gestionado con √©xito start-ups, proyectos de reestructuraci√≥n y roles de gesti√≥n interina en toda Europa (Italia, Eslovaquia, Alemania).",
        "card_lang": "Idiomas", "card_edu": "Educaci√≥n", "sec_exp_title": "Trayectoria Profesional",
        "role_nig": "Coordinador / Site Manager",
        "desc_nig": "Supervisi√≥n de instalaci√≥n de l√≠neas de producci√≥n en el sector automotriz. Gesti√≥n de coordinaci√≥n diaria de equipos, relaciones con clientes y disponibilidad de materiales.",
        "role_jlr": "Senior Production Leader (T&F)",
        "desc_jlr": "Gesti√≥n de zona Trim & Final Operation (120 personas). Implementaci√≥n de m√©tricas SQDCPE, cumplimiento de seguridad y principios Lean (Kaizen, 5S).",
        "role_opel": "Manager Development",
        "desc_opel": "Estudio de geometr√≠a de chasis y calidad de procesos de producci√≥n para nuevo proyecto Opel Grandland BEV, enfoque en \"Body Sides\".",
        "role_ho": "Assistant Supervisor",
        "desc_ho": "Gesti√≥n de proyectos de instalaci√≥n para Jeep Ineos Grenadier, remolques Krone y sistemas transportadores Opel Grandland.",
        "role_phoenix": "Director Supply Chain",
        "desc_phoenix": "Optimizaci√≥n de cadena de suministro de biomasa, reducci√≥n de costos de env√≠o y gesti√≥n de regulaciones de transporte internacional (A√©reo, Mar√≠timo, Ferroviario, Terrestre).",
        "role_brixia": "Plant Production & Logistics Manager",
        "desc_brixia": "Fundici√≥n de aluminio a presi√≥n para Bosch, Continental, Magna. Reorganizaci√≥n de supply chain, reducci√≥n de proveedores y gesti√≥n de productividad de planta.",
        "role_scand": "Logistics & Purchasing Manager",
        "desc_scand": "Fabricaci√≥n de embalajes. Reducci√≥n de precios de materias primas y energ√≠a. Definici√≥n de objetivos estrat√©gicos y gesti√≥n de contabilidad de almac√©n.",
        "role_serio": "Operation Manager",
        "desc_serio": "Direcci√≥n de fase start-up: cumplimiento de construcci√≥n, dise√±o de layout, reclutamiento de personal, compra de maquinaria e implementaci√≥n ISO 9001.",
        "sec_skills_title": "Competencias Clave", "filter_all": "Todas", "filter_mgmt": "Gesti√≥n", "filter_tech": "T√©cnicas", "filter_ind": "Sectoriales",
        "sk_supply": "Supply Chain Management", "sk_plant": "Gesti√≥n de Plantas", "sk_lean": "Lean Manufacturing (Kaizen, 5S)", "sk_interim": "Gesti√≥n Interina",
        "sk_auto": "Industria Automotriz", "sk_log": "Optimizaci√≥n Log√≠stica", "sk_crisis": "Gesti√≥n de Crisis", "sk_sqdcpe": "M√©tricas SQDCPE", "sk_iso": "ISO 9001 / IATF",
        "sk_sap": "SAP / AS400 / MS Office", "sk_cost": "Reducci√≥n de Costos", "sk_start": "Liderazgo Start-up",
        "sec_map_title": "Experiencia Internacional", "sec_map_desc": "Historial de √©xitos en centros manufactureros clave de Europa.", "sec_contact_title": "Contacto"
    }
};

// --- DOM Elements ---
const hamburger = document.querySelector('.hamburger');
const navLinks = document.querySelector('.nav-links');
const sections = document.querySelectorAll('.fade-in-section');
const progressBar = document.getElementById('progressBar');
const filterBtns = document.querySelectorAll('.filter-btn');
const skillTags = document.querySelectorAll('.skill-tag');

// --- Mobile Menu ---
if (hamburger) {
    hamburger.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });
}

document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', () => {
        navLinks.classList.remove('active');
    });
});

// --- Scroll Progress Bar ---
window.addEventListener('scroll', () => {
    if (!progressBar) return;
    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrollPercentage = (scrollTop / scrollHeight) * 100;
    progressBar.style.width = scrollPercentage + '%';
});

// --- Skill Filtering ---
filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        filterBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.getAttribute('data-filter');
        skillTags.forEach(tag => {
            if (filter === 'all' || tag.getAttribute('data-category') === filter) {
                tag.classList.remove('hidden');
            } else {
                tag.classList.add('hidden');
            }
        });
    });
});

// --- Intersection Observer (Scroll Animations) ---
const observerOptions = { threshold: 0.1, rootMargin: "0px 0px -50px 0px" };
const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
    });
}, observerOptions);
sections.forEach(section => observer.observe(section));

// --- Typewriter Effect ---
class TypeWriter {
    constructor(txtElement, words, wait = 3000) {
        this.txtElement = txtElement;
        this.words = words;
        this.txt = '';
        this.wordIndex = 0;
        this.wait = parseInt(wait, 10);
        this.type();
        this.isDeleting = false;
    }
    type() {
        const current = this.wordIndex % this.words.length;
        const fullTxt = this.words[current];
        if (this.isDeleting) { this.txt = fullTxt.substring(0, this.txt.length - 1); }
        else { this.txt = fullTxt.substring(0, this.txt.length + 1); }
        this.txtElement.innerHTML = `<span class="txt">${this.txt}</span>`;
        let typeSpeed = 100;
        if (this.isDeleting) { typeSpeed /= 2; }
        if (!this.isDeleting && this.txt === fullTxt) { typeSpeed = this.wait; this.isDeleting = true; }
        else if (this.isDeleting && this.txt === '') { this.isDeleting = false; this.wordIndex++; typeSpeed = 500; }
        setTimeout(() => this.type(), typeSpeed);
    }
}
document.addEventListener('DOMContentLoaded', initTypewriter);
function initTypewriter() {
    const txtElement = document.querySelector('.txt-type');
    if (!txtElement) return;
    const words = JSON.parse(txtElement.getAttribute('data-words'));
    const wait = txtElement.getAttribute('data-wait');
    new TypeWriter(txtElement, words, wait);
}

// --- Canvas Interaction (Network Effect) ---
const canvas = document.getElementById('canvas1');
if (canvas) {
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particlesArray;
    let mouse = { x: null, y: null, radius: (canvas.height / 80) * (canvas.width / 80) }

    window.addEventListener('mousemove', function (event) {
        mouse.x = event.x;
        mouse.y = event.y;
    });

    class Particle {
        constructor(x, y, directionX, directionY, size, color) {
            this.x = x; this.y = y; this.directionX = directionX; this.directionY = directionY; this.size = size; this.color = color;
        }
        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
            ctx.fillStyle = this.color; // Use instance color
            ctx.fill();
        }
        update() {
            if (this.x > canvas.width || this.x < 0) { this.directionX = -this.directionX; }
            if (this.y > canvas.height || this.y < 0) { this.directionY = -this.directionY; }

            // Move particle
            this.x += this.directionX;
            this.y += this.directionY;
            this.draw();
        }
    }

    function init() {
        particlesArray = [];
        let numberOfParticles = (canvas.height * canvas.width) / 9000;
        for (let i = 0; i < numberOfParticles; i++) {
            let size = (Math.random() * 2) + 1;
            let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
            let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
            let directionX = (Math.random() * 0.4) - 0.2;
            let directionY = (Math.random() * 0.4) - 0.2;
            let color = '#d4a017'; // Keep Gold for contrast/accent
            particlesArray.push(new Particle(x, y, directionX, directionY, size, color));
        }
    }

    function connect() {
        let opacityValue = 1;
        for (let a = 0; a < particlesArray.length; a++) {
            // Connect particles
            for (let b = a; b < particlesArray.length; b++) {
                let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) + ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                if (distance < (canvas.width / 7) * (canvas.height / 7)) {
                    opacityValue = 1 - (distance / 20000);
                    ctx.strokeStyle = 'rgba(10, 31, 51,' + opacityValue + ')'; // Dark Navy Lines
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                    ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                    ctx.stroke();
                }
            }

            // Connect to mouse
            let mouseDistance = ((particlesArray[a].x - mouse.x) * (particlesArray[a].x - mouse.x)) + ((particlesArray[a].y - mouse.y) * (particlesArray[a].y - mouse.y));
            if (mouseDistance < (canvas.width / 7) * (canvas.height / 7)) {
                opacityValue = 1 - (mouseDistance / 20000);
                ctx.strokeStyle = 'rgba(10, 31, 51,' + opacityValue + ')'; // Dark Navy Lines
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                ctx.lineTo(mouse.x, mouse.y);
                ctx.stroke();
            }
        }
    }

    function animate() {
        requestAnimationFrame(animate);
        ctx.clearRect(0, 0, innerWidth, innerHeight);
        for (let i = 0; i < particlesArray.length; i++) {
            particlesArray[i].update();
        }
        connect();
    }

    window.addEventListener('resize', function () {
        canvas.width = innerWidth;
        canvas.height = innerHeight;
        mouse.radius = ((canvas.height / 80) * (canvas.height / 80));
        init();
    });
    window.addEventListener('mouseout', function () {
        mouse.x = undefined;
        mouse.y = undefined;
    });

    init();
    animate();
}

// --- KPI Animation ---
const kpiSection = document.querySelector('.kpi-section');
const kpiNumbers = document.querySelectorAll('.kpi-number');

if (kpiSection && kpiNumbers.length > 0) {
    const kpiObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                kpiNumbers.forEach(counter => {
                    const updateCount = () => {
                        const target = +counter.getAttribute('data-target');
                        const count = +counter.innerText;

                        // Lower increment for slower, smoother animation
                        const inc = target / 100;

                        if (count < target) {
                            counter.innerText = Math.ceil(count + inc);
                            setTimeout(updateCount, 20);
                        } else {
                            counter.innerText = target;
                        }
                    };
                    updateCount();
                });
                observer.unobserve(entry.target); // Run only once
            }
        });
    }, { threshold: 0.5 });

    kpiObserver.observe(kpiSection);
}

// --- Leaflet Map ---
if (document.getElementById('map')) {
    const map = L.map('map').setView([48.5, 12.5], 5);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
        subdomains: 'abcd',
        maxZoom: 19
    }).addTo(map);

    const locations = [
        { name: "Milan, Italy", coords: [45.4642, 9.1900], role: "Education & Origins" },
        { name: "Berlin, Germany", coords: [52.5200, 13.4050], role: "NIG - Site Manager" },
        { name: "Eisenach, Germany", coords: [50.9740, 10.3182], role: "Opel - Manager Development" },
        { name: "Bratislava, Slovakia", coords: [48.1486, 17.1077], role: "H&O Group - Supervisor" },
        { name: "Nitra, Slovakia", coords: [48.3061, 18.0764], role: "Jaguar Land Rover - Senior Leader" },
        { name: "Levice, Slovakia", coords: [48.2156, 18.6071], role: "Home Base / Serioplast" }
    ];

    const customIcon = L.divIcon({
        className: 'custom-map-marker',
        html: '<div style="background-color: #d4a017; width: 15px; height: 15px; border-radius: 50%; border: 3px solid #0a1f33; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',
        iconSize: [20, 20],
        iconAnchor: [10, 10]
    });

    locations.forEach(loc => {
        L.marker(loc.coords, { icon: customIcon })
            .addTo(map)
            .bindPopup(`<b>${loc.name}</b><br>${loc.role}`);
    });
}


// --- Dynamic Greeting ---
function updateGreeting() {
    const greetingElement = document.querySelector('.dynamic-greeting');
    if (!greetingElement) return;

    const hour = new Date().getHours();
    let key = "greeting_morning"; // Default key

    // Determine time of day
    if (hour < 12) {
        key = "greeting_morning";
    } else if (hour < 18) {
        key = "greeting_afternoon";
    } else {
        key = "greeting_evening";
    }

    // Initial load
    const currentLang = localStorage.getItem('selectedLang') || 'en';
    if (translations[currentLang] && translations[currentLang][key]) {
        greetingElement.textContent = translations[currentLang][key];
    } else {
        // Fallback logic if translation logic isn't fully robust yet
        if (hour < 12) greetingElement.textContent = "Good Morning";
        else if (hour < 18) greetingElement.textContent = "Good Afternoon";
        else greetingElement.textContent = "Good Evening";
    }
}
document.addEventListener('DOMContentLoaded', updateGreeting);

// Add keys to your translation dictionary in script.js to fully support this!

// --- Language Dropdown Selector ---
const langDropdownBtn = document.getElementById('langDropdownBtn');
const langDropdownMenu = document.getElementById('langDropdownMenu');
const langOptions = document.querySelectorAll('.lang-option');

// Language flag mapping
const langFlags = {
    'en': 'üá¨üáß EN',
    'it': 'üáÆüáπ IT',
    'sk': 'üá∏ÔøΩÔøΩ SK',
    'de': 'üá©üá™ DE',
    'fr': 'üá´üá∑ FR',
    'es': 'üá™üá∏ ES'
};

// Toggle dropdown
if (langDropdownBtn) {
    langDropdownBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        langDropdownMenu.classList.toggle('show');
        langDropdownBtn.classList.toggle('active');
    });
}

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
    if (langDropdownMenu && !e.target.closest('.language-selector')) {
        langDropdownMenu.classList.remove('show');
        if (langDropdownBtn) {
            langDropdownBtn.classList.remove('active');
        }
    }
});

// Language selection
langOptions.forEach(option => {
    option.addEventListener('click', () => {
        const selectedLang = option.getAttribute('data-lang');

        // Update active state
        langOptions.forEach(opt => opt.classList.remove('active'));
        option.classList.add('active');

        // Update button text
        if (langDropdownBtn) {
            const currentLangSpan = langDropdownBtn.querySelector('.current-lang');
            if (currentLangSpan) {
                currentLangSpan.textContent = langFlags[selectedLang];
            }
        }

        // Close dropdown
        langDropdownMenu.classList.remove('show');
        if (langDropdownBtn) {
            langDropdownBtn.classList.remove('active');
        }

        // Apply translations
        changeLanguage(selectedLang);

        // Save preference
        localStorage.setItem('selectedLang', selectedLang);
    });
});

// Translation function
function changeLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    // Update typewriter words if available
    const txtType = document.querySelector('.txt-type');
    if (txtType && translations[lang] && translations[lang]['hero_subtitle_words']) {
        txtType.setAttribute('data-words', JSON.stringify(translations[lang]['hero_subtitle_words']));
    }

    // Update greeting
    updateGreeting();
}

// Load saved language on page load
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('selectedLang') || 'en';

    // Set active option
    langOptions.forEach(option => {
        if (option.getAttribute('data-lang') === savedLang) {
            option.classList.add('active');
        } else {
            option.classList.remove('active');
        }
    });

    // Update button
    if (langDropdownBtn) {
        const currentLangSpan = langDropdownBtn.querySelector('.current-lang');
        if (currentLangSpan) {
            currentLangSpan.textContent = langFlags[savedLang];
        }
    }

    // Apply translations
    if (savedLang !== 'en') {
        changeLanguage(savedLang);
    }
});
